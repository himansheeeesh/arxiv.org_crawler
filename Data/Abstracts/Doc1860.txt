YouTube over Google's QUIC vs Internet Middleboxes: A Tug of War between Protocol Sustainability and Application QoE
Middleboxes such as web proxies, firewalls, etc. are widely deployed in today's network infrastructure. As a result, most protocols need to adapt their behavior to co-exist. One of the most commonly used transport protocols, QUIC, adapts to such middleboxes by falling back to TCP, where they block it. In this paper, we argue that the blind fallback behavior of QUIC, i.e., not distinguishing between failures caused by middleboxes and that caused by network congestion, hugely impacts the performance of QUIC. For this, we focus on YouTube video streaming and conduct a measurement study by utilizing production endpoints of YouTube by enabling TCP and QUIC at a time. In total, we collect over 2600 streaming hours of data over various bandwidth patterns, from 5 different geographical locations and various video genres. To our surprise, we observe that the legacy setup (TCP) either outperforms or performs the same as the QUIC-enabled browser for more than 60% of cases. We see that our observation is consistent across individual QoE parameters, bandwidth patterns, locations, and videos. Next, we conduct a deep-dive analysis to discover the root cause behind such behavior. We find a good correlation (0.3-0.7) between fallback and QoE drop events, i.e., quality drop and re-buffering or stalling. We further perform Granger causal analysis and find that fallback Granger causes either quality drop or stalling for 70% of the QUIC-enabled sessions. We believe our study will help designers revisit the decision to enable fallback in QUIC and distinguish between the packet drops caused by middleboxes and network congestion.